<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Heaven: ☁️ Heaven</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Heaven
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">C library for allowing global menus in Wayland and X11 sessions.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">☁️ Heaven </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__home_eduardo_Desktop_Cuarzo_Heaven_README"></a> Simple C library for exposing global menu bars through Unix Domain Sockets in Wayland and X11 sessions.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
🧩 APIs</h1>
<h3><a class="anchor" id="autotoc_md2"></a>
Heaven-Server</h3>
<p>API for the global menu bar (process in charge of rendering the bar). Accepts menus from clients and choose which one to display with help from the Wayland or X11 compositor.</p>
<h3><a class="anchor" id="autotoc_md3"></a>
Heaven-Client</h3>
<p>API for client applications which want to display their menus in the global menu bar. Allow applications to send their menus to the global menu bar, update them and listen to their items events (e.g. when an user clicks on an action or types a shortcut).</p>
<h3><a class="anchor" id="autotoc_md4"></a>
Heaven-Compositor</h3>
<p>API for Wayland or X11 compositors. Allows the compositor to notify the global menu bar which process is currently active using its own policy (e.g. when the user clicks on a window).</p>
<h1><a class="anchor" id="autotoc_md5"></a>
🔨 Build</h1>
<p>Heaven only depends on standard Linux libraries (socket, poll, etc) found in almost every distribution. Can be built with meson or qmake:</p>
<div class="fragment"><div class="line">$ cd Heaven</div>
<div class="line">$ meson setup build</div>
<div class="line">$ cd build</div>
<div class="line">$ meson compile</div>
<div class="line">$ sudo meson install</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md6"></a>
🕹️ Examples</h1>
<p>Check the <b>server</b>, <b>client</b> and <b>compositor</b> examples found in <code>src/examples</code> to get familiar with the API.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
📖 Documentation</h1>
<h4><a class="anchor" id="autotoc_md8"></a>
&lt;a href="https://ehopperdietzel.github.io/Heaven/" title="Link to the API documentation"&gt;Link to the APIs documentation&lt;/a&gt;</h4>
<blockquote class="doxtable">
<p>The documentation is still incomplete. </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md9"></a>
⚽ Objects</h1>
<p><b>hn_object</b></p><ul>
<li><b><a class="el" href="group___server-_client-_common.html#structhn__top__bar" title="A container of an ordered group of menus (e.g. File, Edit, View, etc) tipically displayed at the top ...">hn_top_bar</a></b>: Represents an orderer group of menus (e.g. File, Edit, View, etc). The client can create multiple top bars (e.g. for different windows) but only one can be active at a time.</li>
<li><b>hn_menu</b>: A menu which can be assigned a label and icon (when nested) and contain multiple child items. Can be a child of a top bar or another menu.</li>
<li><b>hn_action</b>: A clickable item which can be assigned an icon, label and shortcuts. Child of a menu.</li>
<li><b>hn_toggle</b>: A toggable item which can be assigned a label and shortucts. Child of a menu.</li>
<li><b>hn_select</b>: Represent a group of options where only one can be active at a time. Child of a menu.</li>
<li><b>hn_option</b>: Member of a select group. Can be assigned a label and shortcuts.</li>
<li><b>hn_separator</b>: A horizontal line which can contain a label and be added to a menu or select to separate groups of actions or options respectively.</li>
</ul>
<p>All objects except for <b><a class="el" href="group___server-_client-_common.html#structhn__top__bar" title="A container of an ordered group of menus (e.g. File, Edit, View, etc) tipically displayed at the top ...">hn_top_bar</a></b> can be child of other objects and only one object at the time.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">hn_object   </th><th class="markdownTableHeadNone">Child of   </th><th class="markdownTableHeadNone">Label   </th><th class="markdownTableHeadNone">Icon   </th><th class="markdownTableHeadNone">Shortcuts   </th><th class="markdownTableHeadNone">Enab. / Disab.   </th><th class="markdownTableHeadNone">Checked   </th><th class="markdownTableHeadNone">Active    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="group___server-_client-_common.html#structhn__top__bar" title="A container of an ordered group of menus (e.g. File, Edit, View, etc) tipically displayed at the top ...">hn_top_bar</a>   </td><td class="markdownTableBodyNone">None   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✔️</center>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">hn_menu   </td><td class="markdownTableBodyNone"><a class="el" href="group___server-_client-_common.html#structhn__top__bar" title="A container of an ordered group of menus (e.g. File, Edit, View, etc) tipically displayed at the top ...">hn_top_bar</a> <br  />
 hn_menu   </td><td class="markdownTableBodyNone"><center>✔️</center>   </td><td class="markdownTableBodyNone"><center>✔️</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✔️</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✘</center>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">hn_action   </td><td class="markdownTableBodyNone">hn_menu   </td><td class="markdownTableBodyNone"><center>✔️</center>   </td><td class="markdownTableBodyNone"><center>✔️</center>   </td><td class="markdownTableBodyNone"><center>✔️</center>   </td><td class="markdownTableBodyNone"><center>✔️</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✘</center>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">hn_toggle   </td><td class="markdownTableBodyNone">hn_menu   </td><td class="markdownTableBodyNone"><center>✔️</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✔️</center>   </td><td class="markdownTableBodyNone"><center>✔️</center>   </td><td class="markdownTableBodyNone"><center>✔️</center>   </td><td class="markdownTableBodyNone"><center>✘</center>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">hn_select   </td><td class="markdownTableBodyNone">hn_menu   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✘</center>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">hn_option   </td><td class="markdownTableBodyNone">hn_select   </td><td class="markdownTableBodyNone"><center>✔️</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✔️</center>   </td><td class="markdownTableBodyNone"><center>✔️</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✔️</center>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">hn_separator   </td><td class="markdownTableBodyNone">hn_menu <br  />
 hn_select   </td><td class="markdownTableBodyNone"><center>✔️</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td><td class="markdownTableBodyNone"><center>✘</center>   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md10"></a>
⭐ Features</h1>
<ul>
<li>Multiple top bars per client.</li>
<li>Nested menus.</li>
<li>8-bit alpha only icons.</li>
<li>Actions with icon, label and shortcuts.</li>
<li>Toggles with label and shortcuts.</li>
<li>Select groups options with label and shortcuts.</li>
<li>Separators with label.</li>
<li>Multi-thread safe.</li>
</ul>
<h1><a class="anchor" id="autotoc_md11"></a>
Use case</h1>
<ol type="1">
<li>The Wayland or X11 compositor starts.</li>
<li>The global menu process starts, gets displayed by the compositor and creates the global menu service using the <b>Heaven-Server</b> library.</li>
<li>The compositor connects to the global menu service using the <b>Heaven-Compositor</b> library (only one compositor can be connected at a time), identifies the global menu process by its pid and adds it to a keyboard events white list.</li>
<li>A client app starts and the compositor identifies it by its pid.</li>
<li>The client app connects to the global menu service and sends its menus using the <b>Heaven-Client</b> library.</li>
<li>The global menu process identifies the client by its pid.</li>
<li>The compositor sends the pid of the current active client using its own policy (e.g. when the user clicks on a window).</li>
<li>The global menu service shows the menu of the active client. </li>
</ol>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
